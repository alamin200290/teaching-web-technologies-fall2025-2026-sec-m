<!DOCTYPE html>
<html lang="en">
<head>
    <title>JSON Example</title>
</head>
<body>
    <h1 id="head">JSON Example</h1>

    <input type="text" name="username" id="username" value=""/>
    <input type="button" name="submit" id="submit" value="Submit" onclick="ajax()"/>


    <script>
        function ajax(){
            let username = document.getElementById('username').value;
            let password = "test";
            let email = "alamin@aiub.edu";
            
            let user = {
             'username': username,  
             'password': password,
             'email': email  
            };
            let data = JSON.stringify(user);

            let xhttp = new XMLHttpRequest();
            //xhttp.open('GET', 'upload.php?username='+username, true);
            xhttp.open('POST', 'upload.php', true);
            xhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
            xhttp.send('user='+data);
            xhttp.onreadystatechange = function (){
                if(this.readyState == 4 && this.status == 200) {
                    //alert(this.responseText);
                    //document.getElementById('head').innerHTML = this.responseText;
                    let user = JSON.parse(this.responseText);
                    document.getElementById('head').innerHTML = user.email;
                }
            }
        }
    </script>

</body>
</html>